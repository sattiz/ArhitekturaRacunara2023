# 4. Напишите ассемблерную программу, которая находит n-й элемент последовательности Фибоначчи,использование
# переменных
# а. Задача идентична задаче 3 из первого семестра упражнений; единственное отличие состоит в том, что
# число n, как и результат, следует помещать в переменные (отмеченные ячейки памяти), а не в
# регистры; числа можно помещать в переменные прямо при инициализации (в части
# кода .section .data), их не обязательно использоватьдвигатьсяинструкция
# б. Есть два решения этой задачи; второе решение (оптимизированное) короче и использует
# меньше регистров


.section .data

n: .long 10101010
f: .long 1
overflow: .byte 0

.section .text
    .globl _start


_start:
    movl %esp, %ebp
    movl $1, %eax
    movl $1, %ebx
fib:
    cmpl $2, n
    jle exit
    addl %eax, %ebx
    jc set_OF
    xchgl %eax, %ebx
    decl n
    jmp fib
set_OF:
    incb overflow
exit:
    movl %eax, f
    movl $1, %eax
    movl $0, %ebx
    int $0x80
